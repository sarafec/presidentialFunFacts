<!DOCTYPE html>
<html>
<head>
	<title>Fun Facts!</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery-3.1.1.js" integrity="sha256-16cdPddA6VdVInumRGo6IbivbERE8p7CQR3HzTBuELA=" crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
	<script src="presidents.js"></script>
	<link rel="stylesheet" href="style.css">
	<link rel="icon" type="image/png" href="favicon.png">

</head>
<body>

	<header>
		<h1 class="page-title">Presidential Fun Facts</h1>
		<p class="instructions"> Hover over to reveal interesting tidbits</p>
			<input type="text" placeholder="Search by full name" aria-label="search" class="form-control" id="search">
		<hr class="line">
	</header>

	<div class="container">
	<div class="row align-items-start">

  	</div>
  	</div>

 <footer><a href="https://github.com/sarafec/presidentialFunFacts"><p>View Source</p></a></footer>
 
</body>
<script>
	let inputField = document.getElementById("search");

	//return fuzzy search function on enter
	inputField.addEventListener("keyup", function(e) {
		if (e.which === 13) {
			return searchCards();
		}
	});

	let searchCards = function() {
		//manipulate input text into a character array
		let lowerSearchText = inputField.value.toLowerCase();
		let charSearchText = lowerSearchText.split('');

		randomPresidentNames = document.querySelectorAll(".card-title");
			randomPresidentNames.forEach(function(title) {
				let presidentName = title;
				let presidentNameString = title.textContent;

				//manipulate president names into character arrays - to be compared
				let lowerPresidentNameString = presidentNameString.toLowerCase();
				let lowerPresidentNameChar = lowerPresidentNameString.split('');

				//perform intersection on input and presidents names - creating a new array
				let inputData = new Set(charSearchText);
				let listData = new Set(lowerPresidentNameChar);
				let intersection = new Set([...inputData].filter(x => listData.has(x)));
				let intersectionArr = Array.from(intersection);

				//perform union on input and president names - creating a new array
				let union = new Set([...inputData, ...listData]);
				let unionArr = Array.from(union);

				//calculate the difference between the union and intersection
				let intersectionArrLength = intersectionArr.length;
				let unionArrLength = unionArr.length;
				let calculateStringApproximation = (function() {
					let result = intersectionArrLength/unionArrLength;

					//identify the parent div of the card
					let selectedCard = presidentName.parentNode.parentNode;
					//if the result is less than .7 change card to display none
					selectedCard.classList.toggle("inactive", result <= .7);
				}());
			});
	};
</script>
</html>
